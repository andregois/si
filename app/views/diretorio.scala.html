@(arquivos: List[Arquivo], pastas: List[Pasta], compartilhadosW: List[Arquivo], compartilhadosR: List[Arquivo])
@import b3.vertical.fieldConstructor

@main("") {


    <table>
        <th>
        @b3.buttonType("new_btn", 'class -> "btn btn-info btn-lg") {
            <span class="glyphicon glyphicon-cloud">
                <p class="text-info"><font face="Monotype Corsiva", size="15"><b><i>Drivebox</i></b></font></span> }
        </th>
        @*
        <th>
        <h1 style="margin-left: 1em", ><p class="text-info"><font face="Monotype Corsiva"><b>Drivebox</b></font></p></h1>
        </th>
        *@
    </table>
    <hr>
    <table>
        <th>
        @b3.buttonType("new_btn", 'class -> "btn btn-info btn-lg") {
            <span class="glyphicon glyphicon-user"></span> }
        </th>
        <th>
            <h2 style="margin-left: 1em"><font face="Monotype Corsiva">@session().get("username")</font></h2>
        </th>
    </table>
    <hr>

    @if(pastas.isEmpty) {
        <h2 style="margin-left: 1em"><font face="Monotype Corsiva">Você não possue pastas.</font></h2>
        <hr>
    } else {
        <h2 style="margin-left: 1em"><font face="Monotype Corsiva">Minhas pastas:</font></h2>
        @for(pasta <- pastas) {
            @b3.static() {
                <span>
                    <a href="@routes.Application.pasta(pasta.getId())">
                    @b3.buttonType("new_btn", 'class -> "btn btn-warning btn-xs") {
                        <span class="glyphicon glyphicon-folder-open">
                            <span style="margin-left: 1em"><font size="3">@pasta.getName()</font></span>
                        </span> }
                    </a>
                </span>
            }
        }
    }

    @if(arquivos.isEmpty) {
        <h2 style="margin-left: 1em"><font face="Monotype Corsiva">Você não possue arquivos.</font></h2>
        <hr>
    } else {
        <h2 style="margin-left: 1em"><font face="Monotype Corsiva">Meus arquivos:</font></h2>
        @for(arquivo <- arquivos) {
            @b3.static() {
                <a href="@routes.Application.arquivo(arquivo.getId(), "w")">
                @b3.buttonType("new_btn", 'class -> "btn btn-warning btn-xs") {
                    <span class="glyphicon glyphicon-file">
                        <span style="margin-left: 1em"><font size="3">@arquivo.getName().@arquivo.getExtension</font></span>
                    </span>
                }
                </a>
            }
        }
    }

    @if(compartilhadosW.isEmpty && compartilhadosR.isEmpty) {
        <h2 style="margin-left: 1em"><font face="Monotype Corsiva">Nenhum arquivo compartilhado com você.</font></h2>
        <hr>
    } else {
        <h2 style="margin-left: 1em"><font face="Monotype Corsiva">Arquivos compartilhados comigo:</font></h2>
        @for(arquivo <- compartilhadosW) {
            @if(arquivo.getCompartilhado() == true) {
                @arquivo.setCompartilhado(false)
                <script language="JavaScript" type="text/javascript">
                        alert("Voce Possui um Novo Arquivo Compartilhado")
                </script>
                @arquivo.update()
            }
            @b3.static() {
                <a href="@routes.Application.arquivo(arquivo.getId(), "w")">
                @b3.buttonType("new_btn", 'class -> "btn btn-warning btn-xs") {
                    <span class="glyphicon glyphicon-envelope">
                        <span style="margin-left: 1em"><font size="3">@arquivo.getName().@arquivo.getExtension()</font></span>
                    </span>
                }
                </a>
            }
        }

        @for(arquivo <- compartilhadosR) {
            @if(arquivo.getCompartilhado() == true) {
                @arquivo.setCompartilhado(false)
                <script language="JavaScript" type="text/javascript">
                        alert("Voce Possui um Novo Arquivo Compartilhado")
                </script>
                @arquivo.update()
            }
            @b3.static() {
                <a href="@routes.Application.arquivo(arquivo.getId(), "r")">
                    @b3.buttonType("new_btn", 'class -> "btn btn-warning btn-xs") {
                        <span class="glyphicon glyphicon-envelope">
                            <span style="margin-left: 1em"><font size="3">@arquivo.getName().@arquivo.getExtension()</font></span>
                        </span>
                    }
                </a>
            }
        }
    }

    <hr>

    <table>
        <tr>
            <th>
            @b3.form(action = routes.Application.formularioNovoArquivo(session().get("root"))) {
                @b3.buttonType("new_file", 'class -> "btn btn-primary") {
                    <span class="glyphicon glyphicon-file"></span> Novo arquivo }
            }
            </th>
            <th>
            @b3.form(action = routes.Application.formularioNovaPasta(session().get("root"))) {
                @b3.buttonType("new_folder", 'class -> "btn btn-primary") {
                    <span class="glyphicon glyphicon-folder-open"></span> Nova Pasta }
            }
            </th>
        </tr>
    </table>

    @b3.form(action = routes.Application.deslogar()) {
        @b3.buttonType("index", 'class -> "btn btn-danger") {
            <span class="glyphicon glyphicon-remove"></span> Sair }
    }
}